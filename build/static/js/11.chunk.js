(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{103:function(e,t,n){"use strict";var a=n(1),r=n(2),c=n(4),l=n(3),o=n(5),i=n(0),s=n.n(i),u=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,"header")}}]),t}(s.a.Component),p=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(u,null))}}]),t}(s.a.Component);t.a=p},98:function(e,t,n){"use strict";var a=n(1),r=n(2),c=n(4),l=n(3),o=n(5),i=(n(47),n(16)),s=n(0),u=n.n(s),p=n(34),d=(n(20),n(8)),m=(n(26),n(7)),h=n(15),f=n(6),E=m.default.SubMenu,y=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleClick=function(e){var t=e.key;n.props.onUpdateSelectedKey(t)},n.handleOpenChange=function(e){e.length?n.setState({openKey:e[1]}):n.setState({openKey:"empty"})},n.state={openKey:""},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.collapsed,a=t.data,r=t.openKey,c=t.selectedKey;return u.a.createElement("div",null,u.a.createElement("div",{id:"kpy_page_centent_menu"},u.a.createElement("h3",{style:{color:"#fff",textIndent:10,lineHeight:"40px",marginBottom:0},className:a.subIcon?"m-showSubnav":""},u.a.createElement(d.default,{type:a.icon,style:{marginRight:10}}),!n&&u.a.createElement("span",{style:{fontSize:14}},a.name)),u.a.createElement(m.default,{onClick:this.handleClick,openKeys:["empty"===this.state.openKey?"":this.state.openKey||r],selectedKeys:[c],onOpenChange:this.handleOpenChange,mode:"inline",theme:"dark"},a&&a.children&&a.children.length?a.children.map(function(t){return!t.isHideChildren&&t.children&&t.children.length?u.a.createElement(E,{key:t.idenfier,title:u.a.createElement("span",null,u.a.createElement(d.default,{type:t.icon||f.a}),u.a.createElement("span",null,t.name))},t.children.map(function(t){return t.isHide?null:u.a.createElement(m.default.Item,{key:t.idenfier},t.oldUrl?u.a.createElement("a",{href:"".concat(e.props.oldDomainName).concat(t.oldUrl)},t.name):u.a.createElement(h.Link,{to:"/".concat(t.url)},t.name))})):t.isHide?null:u.a.createElement(m.default.Item,{key:t.idenfier},u.a.createElement(d.default,{type:t.icon}),t.oldUrl?u.a.createElement("a",{href:"".concat(e.props.oldDomainName).concat(t.oldUrl)},t.name):u.a.createElement(h.Link,{to:"/".concat(t.url)},t.name))}):null)))}}]),t}(u.a.Component),b=n(54),j=n(60),g=n(91),v=n.n(g),O=(n(137),function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(e){if(e.oldUrl)window.location.href="".concat(n.props.oldUrl).concat(e.oldUrl);else if(e.projectName){if(e.projectName!==n.props.projectEnum.NEW_PROJECT)return e.projectName===n.props.projectEnum.MY_SELF?(n.props.onHide(),n.props.history.push("".concat(n.props.projectName===n.props.projectEnum.NEW_PROJECT?"/dashboard":"","/").concat(e.url)),void n.props.onUpdateMenu(e)):void(e.projectName===n.props.projectEnum.MY_SELF||e.projectName===n.props.projectEnum.NEW_PROJECT||(window.location.href="".concat(n.props.domainName,"/").concat(e.projectName,"/#/").concat(e.url)));window.location.href="".concat(n.props.domainName,"/").concat(e.projectName,"/#/dashboard/").concat(e.url)}},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dataList,a=t.title;return u.a.createElement("div",{className:"model-product-item"},u.a.createElement("div",{className:"model-product-title"},a),u.a.createElement("div",{className:"model-product-body"},Array.isArray(n)&&n.map(function(t){return u.a.createElement("div",{className:"model-product-block",key:t.idenfier,onClick:function(){return e.handleClick(t)}},u.a.createElement("p",{className:"name".concat(t.new?" newCreate":"")},u.a.createElement("span",null,t.name),t.new&&u.a.createElement("span",{className:"u-newCreateImg"},u.a.createElement("img",{src:v.a,alt:""}))),u.a.createElement("p",{className:"prompt"},t.placeholder))})))}}]),t}(u.a.Component)),k=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.isHide,a=Object(j.a)(e,["data","isHide"]);return u.a.createElement("div",{className:"model-product-container ".concat(n?"":"active"),style:{padding:"0 32px"}},Array.isArray(t)&&t.map(function(e){return u.a.createElement(O,Object.assign({},a,{key:e.idenfier,dataList:e.children,title:e.name}))}))}}]),t}(u.a.Component),C=(n(38),n(23)),N=n(14),I=n(92),w=n.n(I),x=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={userClassify:""},n.handleLogout=n.handleLogout.bind(Object(N.a)(Object(N.a)(n))),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"handleLogout",value:function(){this.props.onLogout()}},{key:"render",value:function(){var e=this.props.userInfo,t=u.a.createElement(m.default,{className:this.props.class?this.props.class:"",style:{top:"-4px",width:90}},u.a.createElement(m.default.Item,{style:{textAlign:"center"}},u.a.createElement("a",{href:"".concat(this.props.domainName,"/user/#/dashboard/usermmt/accountInfo")},"\u7528\u6237\u4e2d\u5fc3")),u.a.createElement(m.default.Item,{style:{textAlign:"center"}},u.a.createElement("a",{href:"".concat(this.props.domainName,"/user/#/dashboard/usermmt/accountInfo/changeInfo/password")},"\u4fee\u6539\u5bc6\u7801")),u.a.createElement(m.default.Item,{style:{textAlign:"center"}},u.a.createElement("a",{onClick:this.handleLogout},"\u9000\u51fa\u767b\u5f55")));return u.a.createElement(C.default,{overlay:t},u.a.createElement("span",{className:"cursor-pointer",style:{marginRight:"15px"}},"GOVENTERPRISE_USER"===e.userClassify?u.a.createElement("img",{width:"17",style:{marginTop:-3,marginRight:3},src:w.a,alt:""}):u.a.createElement(d.default,{type:"user"}),u.a.createElement("span",null,e.userName)))}}]),t}(u.a.Component),L="&defaultPost="+encodeURIComponent("user/#/login"),S=[{text:"\u6211\u7684\u5de5\u5355",url:"".concat(window.location.origin,"/api/user/kf5Login.do?return_to=/request/listview/").concat(L)},{text:"\u53d1\u8d77\u5de5\u5355",url:"".concat(window.location.origin,"/api/user/kf5Login.do?return_to=/request/new/").concat(L)}],_=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(N.a)(Object(N.a)(n))),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(e){var t=e.key;window.open(t,"_blank")}},{key:"render",value:function(){var e=u.a.createElement(m.default,{className:this.props.class?this.props.class:"",onClick:this.handleClick,style:{top:"-4px"}},S.map(function(e){return u.a.createElement(m.default.Item,{key:e.url},u.a.createElement("span",null,e.text))}));return u.a.createElement(C.default,{overlay:e},u.a.createElement("span",{className:"cursor-pointer"},u.a.createElement(d.default,{type:"solution"}),u.a.createElement("span",null,"\u5de5\u5355")))}}]),t}(u.a.Component),M=n(53),A=n(22),U=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).changeLang=function(e){var t=e.key;t!==Object(M.a)()&&(localStorage.setItem(A.d,t),window.location.reload())},n.state={lang:A.a},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.lang;localStorage.getItem(A.d)&&(e=localStorage.getItem(A.d));var t=A.c.find(function(t){return t.value===e}).show,n=u.a.createElement(m.default,{onClick:this.changeLang},A.c.map(function(e){return u.a.createElement(m.default.Item,{key:e.value},u.a.createElement("a",null,e.text))}));return u.a.createElement("div",{style:this.props.style},u.a.createElement(C.default,{overlay:n},u.a.createElement("span",{style:{cursor:"pointer"}},t," ",u.a.createElement(d.default,{type:"down"}))))}}]),t}(u.a.Component);U.defaultProps={style:{}};var H=U,K=[{text:" 020-82509699",url:"http://www.kaopuyun.com"}],R=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=u.a.createElement(m.default,{style:{top:"-4px"}},K.map(function(e){return u.a.createElement(m.default.Item,{key:e.url},u.a.createElement("a",{href:e.url}," ",u.a.createElement("span",null,e.text)))}));return u.a.createElement(C.default,{overlay:e},u.a.createElement("span",{className:"cursor-pointer"},u.a.createElement(d.default,{type:"customer-service"}),u.a.createElement("span",null,"\u5ba2\u670d")))}}]),t}(u.a.Component),P=(n(49),n(57)),F=n(27),J=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(N.a)(Object(N.a)(n))),n.handleVisibleChange=n.handleVisibleChange.bind(Object(N.a)(Object(N.a)(n))),n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(e){var t=e.key;"finance"===t&&(t="".concat(t,"/totalInfo")),this.props.projectName===this.props.projectEnum.FINANCIAL_PROJECT?(this.props.history.push("/".concat(t)),this.props.updateFinanceMenu&&this.props.updateFinanceMenu(t)):window.location.href="".concat(this.props.domainName,"/").concat(this.props.projectEnum.FINANCIAL_PROJECT,"/#/").concat(t)}},{key:"componentDidMount",value:function(){this.props.getAccount()}},{key:"handleVisibleChange",value:function(e){e&&this.props.getAccount()}},{key:"render",value:function(){var e=this.props.accountInfo.balance,t=u.a.createElement(m.default,{onClick:this.handleClick,className:this.props.class?this.props.class:"",style:{top:"-4px",padding:"0",minWidth:"180px",right:15}},u.a.createElement(m.default.Item,{key:"111",style:{padding:"14px 24px 7px",pointerEvents:"none"}},"\u8d26\u6237\u4f59\u989d\uff1a",u.a.createElement("span",{style:{color:"#ff790d"}},e<0?"-"+Object(F.a)(Math.abs(e)):"0.00"===e?"\uffe50.00":Object(F.a)(e))),u.a.createElement(m.default.Item,{key:"finance/recharge",style:{padding:"7px 0"}},u.a.createElement(P.default,{type:"primary",style:{margin:"0 24px",backgroundColor:"#ff790d",borderColor:"#ff790d",width:"92px",height:"34px",lineHeight:"34px",padding:"0",color:"#fff"}},"\u7acb\u5373\u5145\u503c")),u.a.createElement(m.default.Item,{key:"1253",style:{padding:"2px 0",pointerEvents:"none"}},u.a.createElement("hr",{className:"u-hr"})),this.props.menuList.map(function(e){return u.a.createElement(m.default.Item,{key:e.url,style:{padding:"7px 24px"}},u.a.createElement("a",null,e.text))}),u.a.createElement(m.default.Item,{key:"123",style:{padding:"2px 0",pointerEvents:"none"}},u.a.createElement("hr",{className:"u-hr"})),u.a.createElement(m.default.Item,{key:"finance",style:{padding:"7px 24px 14px"}},u.a.createElement("span",null,"\u8fdb\u5165\u8d22\u52a1\u4e2d\u5fc3")));return u.a.createElement(C.default,{overlay:t,onVisibleChange:this.handleVisibleChange},u.a.createElement("span",{className:"cursor-pointer"},u.a.createElement(d.default,{type:"pay-circle"}),u.a.createElement("span",null,"\u8d22\u52a1")))}}]),t}(u.a.Component),T=(n(138),n(9)),W=i.default.Header,z=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleChangeState=function(e,t){n.setState(Object(b.a)({},e,t))},n.state={isHide:!0},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.menuInfo,n=t.menu.filter(function(e){return e.leftModule}),a=[{text:"\u8ba2\u5355\u7ba1\u7406",url:"finance/order"},{text:"\u8d26\u5355\u7ba1\u7406",url:t.menu.find(function(e){return"finance"===e.idenfier}).children.find(function(e){return"finance-bill"===e.idenfier}).children.find(function(e){return!e.isHide}).url},{text:"\u6536\u652f\u660e\u7ec6",url:"finance/payments"}];return u.a.createElement("div",{className:"model-wrapper",id:"kpy_page_centent_top"},u.a.createElement(W,null,u.a.createElement(d.default,{className:"trigger",type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:this.props.onSwitch}),u.a.createElement("ul",{className:"ant-menu ant-menu-light ant-menu-root ant-menu-horizontal product",style:{lineHeight:"64px",float:"left"}},Array.isArray(n)&&n.map(function(t){return t.dropdown?u.a.createElement("li",{key:t.idenfier,className:"ant-menu-item",onMouseOver:function(){return e.handleChangeState("isHide",!1)},onMouseOut:function(){return e.handleChangeState("isHide",!0)}},u.a.createElement("span",null,u.a.createElement("span",null,t.name),u.a.createElement(d.default,{type:e.state.isHide?"down":"up",style:{fontSize:"12px"}})),u.a.createElement(k,{data:t.children,isHide:e.state.isHide,oldUrl:e.props.oldUrl,domainName:e.props.domainName,projectName:e.props.projectName,projectEnum:e.props.projectEnum,history:e.props.history,onHide:function(){return e.handleChangeState("isHide",!0)},onUpdateMenu:e.props.onUpdateMenu})):u.a.createElement("li",{key:t.idenfier,className:"ant-menu-item"},u.a.createElement("a",{href:"".concat(T.a,"/").concat(t.href)},t.name))})),u.a.createElement("div",null,u.a.createElement(H,{style:{right:"295px",top:"0px",position:"absolute"}}),u.a.createElement(x,{userInfo:this.props.userInfo,domainName:this.props.domainName,onLogout:this.props.onLogout}),u.a.createElement(J,{updateFinanceMenu:this.props.updateFinanceMenu,getAccount:this.props.getAccount,history:this.props.history,menuList:this.props.menuList.length?this.props.menuList:a,accountInfo:this.props.accountInfo,domainName:this.props.domainName,oldUrl:this.props.oldUrl,projectName:this.props.projectName,projectEnum:this.props.projectEnum}),this.props.isWorkList&&u.a.createElement(_,null),this.props.isCusService&&u.a.createElement(R,null))))}}]),t}(u.a.Component);z.defaultProps={isWorkList:!0,isCusService:!0,menuList:[]};n(65);var V,D=n(21),B=n(18),Y=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.pathname!==this.props.pathname&&this.props.onInitMenu(e.pathname)}},{key:"handleBack",value:function(){window.history.back()}},{key:"render",value:function(){var e=this,t=JSON.parse(Object(B.a)(T.b)||"{}"),n=this.props.location.pathname.substr(1).split("/"),a=!1;f.c.forEach(function(e){var t=n.indexOf(e);-1!==t&&(n.splice(t+1,n.length-1),a=!0)});var r=this.props.menuInfo,c=r.currentMenu,l=r.isBack,o=[];return c.idenfier&&function(){var e=c.idenfier.split("-"),t=c.idenfier,a=c;if(a.children)for(var r=e.length;r<n.length;r++)if(t="".concat(t,"-").concat(n[r]),a.children){var l=a.children.find(function(e){return e.idenfier===t})||{idenfier:"",children:[]};a=l,o.push(l)}}(),u.a.createElement("div",{className:"flex-start-center"},(!f.d||t.prevLocation&&t.prevLocation.pathname!==f.g.router)&&(window.history.length>2||2===window.history.length&&document.referrer)&&(l||a)&&u.a.createElement("div",{className:"route-back-container",onClick:function(){return e.handleBack()}},u.a.createElement(d.default,{type:"rollback"}),u.a.createElement("span",{className:"text",style:{fontSize:14,paddingLeft:5}},"\u8fd4\u56de")),u.a.createElement(D.default,{style:{margin:"16px 0"}},u.a.createElement(D.default.Item,null,u.a.createElement("span",null,c.name)),o.map(function(e){return u.a.createElement(D.default.Item,{key:e.idenfier},u.a.createElement("span",null,e.name))})))}}]),t}(u.a.Component),q=n(11),G=n(13),Q=n(43),X=n(93),Z=n(94),$=n.n(Z),ee=(n(139),n(58)),te=i.default.Content,ne=i.default.Sider,ae={overflowY:"auto",borderSizing:"border-box"},re={paddingTop:12,position:"relative"},ce={height:"auto"},le=Object(q.b)(function(e){return{menuInfo:e.menuInfo,userInfo:e.userInfo,accountInfo:e.accountInfo}},{init_menu:G.b,update_menu:G.e,update_menu_selectedKey:G.h,logout:Q.b,updateFinanceMenu:G.d,getAccount:X.a})(V=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e)))._handleClient=function(){var e=document.body.clientWidth;1366!==e||n.state.collapsed||n.handleClick(),e>1600&&n.state.collapsed&&n.handleClick()},n.handleClick=function(){n.setState({collapsed:!n.state.collapsed})},n.state={collapsed:!1},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._handleClient(),window.onresize=function(){e._handleClient()}}},{key:"render",value:function(){var e=this.props.menuInfo;return u.a.createElement(i.default,{className:"KpyConsoleContent"},u.a.createElement(ne,{width:this.state.collapsed?60:220,collapsible:!0,collapsed:this.state.collapsed,style:ae},this.state.collapsed?u.a.createElement("div",{className:"logosmall"}):u.a.createElement("div",{className:"logo"},u.a.createElement("img",{alt:"",src:$.a}),u.a.createElement("h1",{className:"kplogo"}," ")),e.currentMenu.children&&e.currentMenu.children.length&&u.a.createElement(y,{collapsed:this.state.collapsed,data:e.currentMenu,openKey:e.openKey,selectedKey:e.selectedKey,oldDomainName:T.c,onUpdateSelectedKey:this.props.update_menu_selectedKey})),u.a.createElement(i.default,{style:ce},u.a.createElement(z,{collapsed:this.state.collapsed,userInfo:this.props.userInfo,menuInfo:this.props.menuInfo,accountInfo:this.props.accountInfo,path:this.props.match.path,onSwitch:this.handleClick,oldUrl:T.c,domainName:T.a,projectName:T.d,projectEnum:ee,history:this.props.history,getAccount:this.props.getAccount,onUpdateMenu:this.props.update_menu,onLogout:this.props.logout}),e.currentMenu.children&&e.currentMenu.children.length&&u.a.createElement(Y,{location:this.props.location,pathname:this.props.location.pathname,menuInfo:e,onInitMenu:this.props.init_menu}),u.a.createElement(te,{style:re},Object(F.b)(this.props.routes).map(function(e){return u.a.createElement(p.a,Object.assign({key:e.path},e))}))))}}]),t}(u.a.Component))||V;t.a=le}}]);